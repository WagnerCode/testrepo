# ============================================================================
# GitLab CI/CD Variables
# Глобальные переменные для pipeline
# ============================================================================

variables:
  # === Переменные по умолчанию ===

  # Пользователи
  DEPLOY_NODE_USER: "root"
  ANSIBLE_USER: "user1"

  # Пути на целевых нодах
  KAFKA_INSTALL_DIR: "/pub/opt/Apache/kafka"
  KAFKA_DATA_DIR: "/pub/KAFKADATA"
  ZOOKEEPER_DATA_DIR: "/pub/zookeeper"
  CORAX_DIR: "/corax/corax_prepare"
  TMP_DIR: "/corax/corax_prepare/tmp"

  # Порты сервисов
  CRXUI_PORT: "9090"
  CRXSR_PORT: "8081"

  # Версия дистрибутива
  KFK_VERSION: "11.340.0-16"

  # === Пути на GitLab Runner ===

  # Директория с дистрибутивами на runner (shell executor)
  DISTRIBS_DIR: "/test-distribs"

  # Имя архива с подготовленной структурой Corax
  CORAX_ARCHIVE: "corax_prepare.zip"

  # Рабочая директория на runner для распакованной структуры
  RUNNER_WORKDIR: "${CI_PROJECT_DIR}/corax_prepare"

  # === Ansible настройки ===

  ANSIBLE_HOST_KEY_CHECKING: "False"
  ANSIBLE_FORCE_COLOR: "True"
  ANSIBLE_STDOUT_CALLBACK: "yaml"

  # === Выбор варианта конфигурации кластера ===

  # Выбор варианта конфигурации кластера
  # Возможные значения: "standard", "alternative", "custom"
  # - standard: Стандартная конфигурация для production (wait_for_start: 20)
  # - alternative: Альтернативная конфигурация с увеличенными таймаутами (wait_for_start: 30)
  # - custom: Кастомная конфигурация для отладки (wait_for_start: 60, cleanLog/cleanData: true)
  CLUSTER_CONFIG_VARIANT: "standard"

  # === Режим безопасности кластера ===

  # Режим безопасности кластера
  # Возможные значения: "plaintext" или "ssl"
  # - plaintext: Без шифрования (для dev/test окружений)
  # - ssl: С полным шифрованием и сертификатами (для production)
  CLUSTER_SECURITY_MODE: "plaintext"

  # Пароли для SSL сертификатов (используются только при CLUSTER_SECURITY_MODE=ssl)
  # ВАЖНО: В production используйте GitLab CI/CD Variables с типом "Masked" для безопасного хранения!
  SSL_KEYSTORE_PASSWORD: "changeit"
  SSL_TRUSTSTORE_PASSWORD: "changeit"
  SSL_KEY_PASSWORD: "changeit"
